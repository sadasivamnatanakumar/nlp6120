<!DOCTYPE article PUBLIC "-//NLM//DTD Journal Archiving and Interchange DTD v2.3 20070202//EN" "archivearticle.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">BMC Med Res Methodol</journal-id><journal-title>BMC Medical Research Methodology</journal-title><issn pub-type="epub">1471-2288</issn><publisher><publisher-name>BioMed Central</publisher-name><publisher-loc>London</publisher-loc></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">15670334</article-id><article-id pub-id-type="pmc">PMC548149</article-id><article-id pub-id-type="publisher-id">1471-2288-5-5</article-id><article-id pub-id-type="doi">10.1186/1471-2288-5-5</article-id><article-categories><subj-group subj-group-type="heading"><subject>Research Article</subject></subj-group></article-categories><title-group><article-title>Comparison of nested case-control and survival analysis methodologies for analysis of time-dependent exposure</article-title></title-group><contrib-group><contrib id="A1" contrib-type="author"><name><surname>Essebag</surname><given-names>Vidal</given-names></name><xref ref-type="aff" rid="I1">1</xref><xref ref-type="aff" rid="I2">2</xref><email>vessebag@bidmc.harvard.edu</email></contrib><contrib id="A2" contrib-type="author"><name><surname>Platt</surname><given-names>Robert W</given-names></name><xref ref-type="aff" rid="I2">2</xref><email>robert.platt@mcgill.ca</email></contrib><contrib id="A3" contrib-type="author"><name><surname>Abrahamowicz</surname><given-names>Michal</given-names></name><xref ref-type="aff" rid="I2">2</xref><xref ref-type="aff" rid="I3">3</xref><email>michal@michal.ri.mgh.mcgill.ca</email></contrib><contrib id="A4" corresp="yes" contrib-type="author"><name><surname>Pilote</surname><given-names>Louise</given-names></name><xref ref-type="aff" rid="I2">2</xref><xref ref-type="aff" rid="I3">3</xref><email>louise.pilote@mcgill.ca</email></contrib></contrib-group><aff id="I1"><label>1</label>Division of Cardiology, Beth Israel Deaconess Medical Center, Harvard University, Boston, MA, USA</aff><aff id="I2"><label>2</label>Department of Epidemiology and Biostatistics, McGill University, Montreal, Canada</aff><aff id="I3"><label>3</label>Division of Clinical Epidemiology, McGill University Health Center, Montreal, Canada</aff><pub-date pub-type="collection"><year>2005</year></pub-date><pub-date pub-type="epub"><day>25</day><month>1</month><year>2005</year></pub-date><volume>5</volume><fpage>5</fpage><lpage>5</lpage><ext-link ext-link-type="uri" xlink:href="http://www.biomedcentral.com/1471-2288/5/5"/><history><date date-type="received"><day>9</day><month>9</month><year>2004</year></date><date date-type="accepted"><day>25</day><month>1</month><year>2005</year></date></history><permissions><copyright-statement>Copyright &#x000a9; 2005 Essebag et al; licensee BioMed Central Ltd.</copyright-statement><copyright-year>2005</copyright-year><copyright-holder>Essebag et al; licensee BioMed Central Ltd.</copyright-holder><license license-type="open-access" xlink:href="http://creativecommons.org/licenses/by/2.0"><p>This is an Open Access article distributed under the terms of the Creative Commons Attribution License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/2.0"/>), which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.</p><!--<rdf xmlns="http://web.resource.org/cc/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1" xmlns:dcterms="http://purl.org/dc/terms"><Work xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" rdf:about=""><license rdf:resource="http://creativecommons.org/licenses/by/2.0"/><dc:type rdf:resource="http://purl.org/dc/dcmitype/Text"/><dc:author>
               Essebag
               Vidal
               
               
               vessebag@bidmc.harvard.edu
            </dc:author><dc:title>
            Comparison of nested case-control and survival analysis methodologies for analysis of time-dependent exposure
         </dc:title><dc:date>2005</dc:date><dcterms:bibliographicCitation>BMC Medical Research Methodology 5(1): 5-. (2005)</dcterms:bibliographicCitation><dc:identifier type="sici">1471-2288(2005)5:1&#x0003c;5&#x0003e;</dc:identifier><dcterms:isPartOf>urn:ISSN:1471-2288</dcterms:isPartOf><License rdf:about="http://creativecommons.org/licenses/by/2.0"><permits rdf:resource="http://web.resource.org/cc/Reproduction" xmlns=""/><permits rdf:resource="http://web.resource.org/cc/Distribution" xmlns=""/><requires rdf:resource="http://web.resource.org/cc/Notice" xmlns=""/><requires rdf:resource="http://web.resource.org/cc/Attribution" xmlns=""/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" xmlns=""/></License></Work></rdf>--></license></permissions><abstract><sec><title>Background</title><p>Epidemiological studies of exposures that vary with time require an additional level of methodological complexity to account for the time-dependence of exposure. This study compares a nested case-control approach for the study of time-dependent exposure with cohort analysis using Cox regression including time-dependent covariates.</p></sec><sec sec-type="methods"><title>Methods</title><p>A cohort of 1340 subjects with four fixed and seven time-dependent covariates was used for this study. Nested case-control analyses were repeated 100 times for each of 4, 8, 16, 32, and 64 controls per case, and point estimates were compared to those obtained using Cox regression on the full cohort. Computational efficiencies were evaluated by comparing central processing unit times required for analysis of the cohort at sizes 1, 2, 4, 8, 16, and 32 times its initial size.</p></sec><sec><title>Results</title><p>Nested case-control analyses yielded results that were similar to results of Cox regression on the full cohort. Cox regression was found to be 125 times slower than the nested case-control approach (using four controls per case).</p></sec><sec><title>Conclusions</title><p>The nested case-control approach is a useful alternative for cohort analysis when studying time-dependent exposures. Its superior computational efficiency may be particularly useful when studying rare outcomes in databases, where the ability to analyze larger sample sizes can improve the power of the study.</p></sec></abstract></article-meta></front><body><sec><title>Background</title><p>The nested case-control design employs a case-control approach within an established cohort [<xref ref-type="bibr" rid="B1">1</xref>,<xref ref-type="bibr" rid="B2">2</xref>] to obtain estimates from a sample of the cohort that are similar to estimates obtained from analysis of the entire cohort [<xref ref-type="bibr" rid="B3">3</xref>,<xref ref-type="bibr" rid="B4">4</xref>]. The nested case-control design is being increasingly used in large cohorts of patients from prospective studies and randomized clinical trials. This design has become popular because it allows for statistically efficient analysis of data from a cohort with substantial savings in cost and time [<xref ref-type="bibr" rid="B5">5</xref>,<xref ref-type="bibr" rid="B6">6</xref>].</p><p>When studying exposures that vary with time, an additional level of complexity is introduced by the need to account for time-dependent exposure in both the design and analysis [<xref ref-type="bibr" rid="B7">7</xref>,<xref ref-type="bibr" rid="B8">8</xref>]. This can be accomplished by including time-dependent covariates in a Cox proportional-hazards regression model [<xref ref-type="bibr" rid="B9">9</xref>]. Alternatively, a nested case-control approach can be used provided that the exposure and covariate information for controls reflects values corresponding to the time of selection of their respective case.</p><p>This study compares nested case-control and survival analysis methodologies for evaluating time-dependent exposure. The risk of pacemaker insertion associated with dosage of amiodarone (an anti-arrhythmic medication used for the treatment of atrial fibrillation (AF)), represented by a time-dependent covariate, is evaluated in cohort of patients with AF using both methods for illustrative purposes. The comparability of results is evaluated and differences in computational efficiency are quantified for increasing cohort sizes. Advantages and limitations of the respective methodologies are discussed.</p></sec><sec sec-type="methods"><title>Methods</title><sec><title>Study cohort</title><p>A cohort of 11395 elderly (&#x0003e;65 years of age) Quebec residents with AF and a myocardial infarction (MI) between 1991 and 2000 was created by linking the provincial hospital discharge summary database with the provincial physician and drug claims database, using methods described previously [<xref ref-type="bibr" rid="B10">10</xref>]. Approval for the study was obtained from the McGill University Faculty of Medicine Institutional Review Board.</p><p>In order to evaluate the effect of amiodarone dose on the previously demonstrated association between amiodarone therapy for AF and an increased risk of permanent pacemaker requirement [<xref ref-type="bibr" rid="B10">10</xref>], only patients newly started on amiodarone after their diagnosis of AF were included in the study cohort. Amiodarone dose was represented as a binary time-dependent variable comparing daily doses &#x0003e;200 mg to &#x02264;200 mg. Covariate information included age, sex, calendar year of cohort entry, baseline sinus node or conduction disorder, ventricular arrhythmia, and time-dependent exposure to five categories of medications. The final study cohort included 1340 subjects followed from the date of their first prescription of amiodarone until the first of pacemaker implantation, death, or March 31, 2001.</p></sec><sec><title>Statistical analysis</title><p>The data for the entire cohort of 1340 subjects including all fixed and time-dependent variables was represented in counting process notation suitable for Cox regression of time-dependent exposure [<xref ref-type="bibr" rid="B11">11</xref>]. Multiple records (with consecutive start and end times) were created for each subject to account for every change in exposure to any of the time-dependent variables over the study period.</p><p>The hazard ratio (HR) of pacemaker insertion associated with amiodarone doses &#x0003e;200 mg per day was estimated using a Cox proportional-hazards model including all fixed and time-dependent covariates. The timescale used in the model was time since first prescription of amiodarone. Non-significant variables (other than age and sex) were sequentially removed if the resultant model had no significant increase in Akaike Information Criteria (AIC) and no significant change in the HR for amiodarone dose.</p><p>The nested case-control approach was also used to estimate the HR of pacemaker insertion associated with amiodarone doses &#x0003e;200 mg per day. Cases of pacemaker insertion were identified and controls were randomly selected from the risk-set of each case (i.e. subjects present in the cohort at the time the case is defined). After selecting all controls and recording their index dates (i.e. the time, in cohort time, at which the respective case is defined) the relevant time-dependent covariate information was retrieved by merging with the database configured in counting process notation. The relevant subject record was selected by requiring that the index date fall within the start and end time of the subject record for each control.</p><p>The nested case-control approach was repeated using 4, 8, 16, 32, and 64 controls per case. For each number of controls per case, random sampling of controls for all cases and conditional logistic regression analysis was repeated 100 times using the OUTEST option in the PROC PHREG statement to create an output SAS data containing all the parameter estimates [<xref ref-type="bibr" rid="B11">11</xref>]. The mean and standard deviation (SD) of the parameter estimates for each number of controls per case was calculated.</p><p>Computational times for regression models of time-dependent exposures using nested case-control and survival analysis methodologies were compared. The nested case-control samples with 4 and 32 controls per case were analyzed using conditional logistic regression with the PHREG procedure in SAS Release 8.2 [<xref ref-type="bibr" rid="B12">12</xref>]. The full cohort was analyzed using Cox regression adapted for analysis of time-dependent covariates with the PHREG procedure in SAS Release 8.2. Ties were handled using the TIES = EFRON option in the PHREG procedure [<xref ref-type="bibr" rid="B11">11</xref>]. All analyses were performed using an Intel Pentium 4 computer with a 1.80 GHz central processing unit (CPU) and 256 MB of random access memory (RAM).</p><p>Relative computational efficiencies were evaluated by comparing the CPU times of the three regression models used to analyze the cohort. Relative increases in computational time as a function of sample size were quantified by repeating the analyses on progressively larger cohorts. This was done by progressive doubling of the original cohort to 2, 4, 8, and 32 times its original size. Given that the objective was to compare computational times, all fixed and time-dependent exposures were included in all models regardless of statistical significance.</p><p>The computational efficiency of the Cox regression model was also compared to the conditional logistic regression model where the nested case-control sample included all possible controls for each case. This comparison was performed for the original cohort of 1340 subjects with 53 cases (including 2 ties). All analyses were performed using the PHREG procedure. Ties were handled using the TIES = EFRON option in the PHREG procedure, and subsequently using the TIES = DISCRETE option in the PHREG procedure for comparison.</p></sec></sec><sec><title>Results</title><sec><title>Comparative risk estimates</title><p>Pacemaker implantation occurred in 53 of the 1340 subjects during the study period. In the final Cox regression model, amiodarone daily dose (&#x0003e;200 mg vs. &#x02264;200 mg) was associated with an increased risk of pacemaker insertion (HR: 2.03; 95 percent confidence interval: 1.00, 4.14; <italic>p </italic>= 0.05; Parameter Estimate: 0.71; Standard Error of Parameter Estimate: 0.36), after adjusting for age, sex, as well as baseline sinus node or conduction disorder (the only covariate that was an independent predictor of outcome).</p><p>The results of 500 nested case-control analyses (i.e. 100 for each of 4, 8, 16, 32, and 64 controls per case) are summarized in Table <xref ref-type="table" rid="T1">1</xref>. When using any number from 4 to 64 controls per case, the mean point estimate (of 100 analyses repeating the random sampling of controls) of the parameter estimate (and HR) was very similar to that obtained using Cox regression on the full cohort (i.e. HR: 2.03; Parameter Estimate: 0.71). The SDs of the parameter estimates decreased with increasing numbers of controls per case (Table <xref ref-type="table" rid="T1">1</xref>).</p><table-wrap position="float" id="T1"><label>Table 1</label><caption><p>Nested case-control analyses with repeated sampling for increasing numbers of controls per case: Hazard ratio of pacemaker insertion associated with amiodarone dose* in 1340 elderly Quebec residents with atrial fibrillation</p></caption><table frame="hsides" rules="groups"><thead><tr><td align="center">Controls per Case (n)</td><td align="center">Repeated Sampling (n)</td><td align="center">Mean HR&#x02020;</td><td align="center">SD&#x02020; of HR</td><td align="center">Min HR</td><td align="center">Max HR</td><td align="center">Mean Parameter Estimate</td><td align="center">SD of Parameter Estimates</td></tr></thead><tbody><tr><td align="center">4</td><td align="center">100</td><td align="center">2.14</td><td align="center">0.51</td><td align="center">1.27</td><td align="center">3.59</td><td align="center">0.73</td><td align="center">0.23</td></tr><tr><td align="center">8</td><td align="center">100</td><td align="center">2.19</td><td align="center">0.41</td><td align="center">1.39</td><td align="center">3.86</td><td align="center">0.77</td><td align="center">0.18</td></tr><tr><td align="center">16</td><td align="center">100</td><td align="center">2.02</td><td align="center">0.22</td><td align="center">1.55</td><td align="center">2.51</td><td align="center">0.70</td><td align="center">0.11</td></tr><tr><td align="center">32</td><td align="center">100</td><td align="center">2.07</td><td align="center">0.15</td><td align="center">1.78</td><td align="center">2.55</td><td align="center">0.73</td><td align="center">0.07</td></tr><tr><td align="center">64</td><td align="center">100</td><td align="center">2.02</td><td align="center">0.11</td><td align="center">1.82</td><td align="center">2.33</td><td align="center">0.70</td><td align="center">0.05</td></tr></tbody></table><table-wrap-foot><p>* The effect of amiodarone dose, represented by a binary time-dependent covariate (&#x0003e;200 mg vs. &#x02264;200 mg), was adjusted for age, sex, and baseline sinus node or conduction disorder in all models.</p><p>&#x02020; HR, hazard ratio; SD, standard deviation.</p></table-wrap-foot></table-wrap></sec><sec><title>Comparative computational efficiencies</title><p>The computational time required to analyze the cohort of 1340 subjects with 53 events (cases) in models including four fixed variables and seven time-dependent variables is presented in Table <xref ref-type="table" rid="T2">2</xref>. CPU times are displayed for the Cox regression models and the nested case-control regression models (with 4 or 32 controls per case). For the cohort in its initial size, using 32 rather than 4 controls per case increased CPU time by a factor of 3, whereas using Cox regression increased CPU time by a factor of 42. As the cohort size was increased to 32 times the original (i.e. 42880 subjects), the increase in CPU time was greater for the Cox regression model than the nested case-control models. Figure <xref ref-type="fig" rid="F1">1</xref> displays graphically the increase in CPU time with increasing sample size for nested case-control and Cox regression models. The relative computational efficiency was magnified as the sample size increased, such that the CPU time for Cox regression with a cohort of 42880 subjects was 125 times greater than the nested case-control model with 4 controls per case (Table <xref ref-type="table" rid="T2">2</xref>).</p><table-wrap position="float" id="T2"><label>Table 2</label><caption><p>Computational times for nested case-control and survival analyses of time-dependent data for cohorts of increasing sizes: Models* of the risk of pacemaker insertion in elderly Quebec residents with atrial fibrillation</p></caption><table frame="hsides" rules="groups"><thead><tr><td align="left">Cohort Size&#x02020;: #Subjects (#Cases)</td><td align="center">1340 (53)</td><td align="center">2680 (106)</td><td align="center">5360 (212)</td><td align="center">10720 (424)</td><td align="center">21440 (848)</td><td align="center">42880 (1696)</td></tr></thead><tbody><tr><td align="left">Cohort Size: multiple of original</td><td align="center">1</td><td align="center">2</td><td align="center">4</td><td align="center">8</td><td align="center">16</td><td align="center">32</td></tr><tr><td align="left">CPU&#x02021; Time (seconds):</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">&#x02003;Nested: 4 Controls per Case</td><td align="center">0.03</td><td align="center">0.05</td><td align="center">0.07</td><td align="center">0.11</td><td align="center">0.18</td><td align="center">0.4</td></tr><tr><td align="left">&#x02003;Nested: 32 Controls per Case</td><td align="center">0.08</td><td align="center">0.1</td><td align="center">0.2</td><td align="center">0.41</td><td align="center">0.7</td><td align="center">1.49</td></tr><tr><td align="left">&#x02003;Survival Analysis</td><td align="center">1.26</td><td align="center">2.51</td><td align="center">5.06</td><td align="center">9.54</td><td align="center">19.53</td><td align="center">49.91</td></tr><tr><td align="left">CPU Time (multiple of Nested 4):</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">&#x02003;Nested: 4 Controls per Case</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="left">&#x02003;Nested: 32 Controls per Case</td><td align="center">3</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">4</td><td align="center">4</td></tr><tr><td align="left">&#x02003;Survival Analysis</td><td align="center">42</td><td align="center">50</td><td align="center">72</td><td align="center">87</td><td align="center">109</td><td align="center">125</td></tr></tbody></table><table-wrap-foot><p>* All models included four fixed variables (age, sex, calendar year of cohort entry, and baseline sinus node or conduction disorder) and seven time-dependent variables (amiodarone dose, ventricular arrhythmia, and exposure to sotalol, class I antiarrhythmic agents, beta-blockers, calcium channel blockers, and digoxin).</p><p>&#x02020; The original cohort of 1340 subjects was increased by progressive duplication to 2, 4, 8, 16, and 32 times its original size.</p><p>&#x02021; CPU, central processing unit.</p></table-wrap-foot></table-wrap><fig position="float" id="F1"><label>Figure 1</label><caption><p>Increase in computational time with increasing sample size for nested case-control and survival analysis of cohort data with time-dependent covariates</p></caption><graphic xlink:href="1471-2288-5-5-1"/></fig><p>The computational time of the Cox regression model was also compared to the nested case-control model including all possible controls for each case. When ties were handled using the TIES = EFRON option, the CPU time for Cox regression was 1.06 times greater than the CPU time for nested case-control model (1.26 vs. 1.19 seconds). When ties were handled using the TIES = DISCRETE option, the CPU time for Cox regression was 3.91 times greater than the CPU time for nested case-control model (14.65 vs. 3.75 seconds).</p></sec></sec><sec><title>Discussion</title><p>In this study we illustrate empirically that a nested case-control approach can be used to analyze a cohort with time-dependent covariates, with results that are similar to those obtained by Cox regression. Additionally, given that the nested case-control approach obviates the computationally intensive calculations involved in Cox regression when time-dependent covariates are used, the example also illustrates quantitatively the large reduction in CPU time required for analysis.</p><p>The similarity between the two methodologies is expected given that conditional logistic regression used to analyze nested case-control studies (as well as other matched case-control studies) is based on inference procedures adapted from Cox regression; i.e. the conditional likelihood used in conditional logistic regression is exactly the same form as the partial likelihood used in Cox regression except that the denominator includes only a selected number of sampled controls as opposed to all subjects available in the risk set [<xref ref-type="bibr" rid="B13">13</xref>]. The inclusion of time-dependent covariates adds an additional level of complexity to the analysis but remains based on the same inference procedures.</p><p>The statistical efficiency of the nested case-control approach for cohort analysis depends on the number of controls per case selected. Our example demonstrates the expected decrease in the SD of the parameter estimates as the number of controls per case increases. This decrease in variance is explained by the fact that as the number of controls per case increases (towards the total number of controls in a case's risk-set), the probability of choosing the same controls increases, as does the proportion of available controls selected (i.e. approximating the situation in Cox regression where every case is compared to all controls in its risk-set).</p><p>In general, the use of 4 controls per case provides a relative statistical efficiency of 0.8 compared to the use of an infinite number of controls [<xref ref-type="bibr" rid="B14">14</xref>]. However, the relative efficiency also depends on the probability of exposure among the controls and on the magnitude of the estimated relative risk. Gains in statistical efficiency are possible by using greater than 4 controls per case particularly when the probability of exposure among the controls is &#x0003c;0.1 [<xref ref-type="bibr" rid="B4">4</xref>,<xref ref-type="bibr" rid="B15">15</xref>]. In addition to situations where exposure prevalence in controls is low, increasing the number of controls per case is beneficial when the number of case-control sets is small [<xref ref-type="bibr" rid="B16">16</xref>].</p><p>The major reason for the superior computational efficiency of the conditional logistic regression method for nested-case control analysis of time-dependent covariates is that only a sample of all possible controls are included in the risk set of each case (whereas all are included in Cox regression). As illustrated in Figure <xref ref-type="fig" rid="F1">1</xref> and Table <xref ref-type="table" rid="T2">2</xref>, the impact on computational efficiency of sampling a fixed number of controls per case is greater for larger cohorts because the sample of controls represents a smaller proportion of the all the possible controls for each case. While this effect of sampling controls may be the main reason for the computational efficiency of the nested case-control approach is not the only reason. As demonstrated, even when all possible controls are included in the risk set of each case, the computational time of the conditional logistic regression increases significantly but remains faster than Cox regression. This is because the two analyses process time-dependent covariates differently. In Cox regression, risk sets and time-dependent covariates are calculated at the time of each case failure. In conditional logistic regression, the risk sets and time-dependent covariates are calculated in advance. The relative efficiency also depends on how ties are handled, with Cox regression relatively less efficient when ties are handled using the TIES = DISCRETE option compared to the TIES = EFRON option.</p><p>The nested case-control approach for cohort analysis offers some advantages over analysis of an entire cohort that may be important regardless of the type of cohort used. A potential advantage with respect to design is the option to match controls to cases on the basis of possible confounding covariates for which estimation of effect is not of interest. Another advantage is that substantial savings in cost and time can be achieved by analyzing the cases and only a sample of the controls (as opposed to the entire cohort), particularly when the collection and/or processing of exposure information is very expensive and/or time consuming [<xref ref-type="bibr" rid="B6">6</xref>]. While cost is often a major factor in preferring a nested-case control approach over analyzing an entire cohort, there may be advantages even when differences in cost are not significant.</p><p>In recent years, large administrative healthcare databases, such as the one from which the example cohort for this study was selected, have become particularly useful in studying outcomes that are very rare because they allow for adequate sample sizes [<xref ref-type="bibr" rid="B17">17</xref>-<xref ref-type="bibr" rid="B20">20</xref>]. Once a database with all exposure and outcome information is available, analyzing a sample of rather than the entire cohort does not necessarily decrease costs. However, depending on the size of the cohort (as well as the speed of the processor and amount of memory in the computer), it may not be possible to analyze an entire cohort when complex modeling of time-dependent covariates is needed. Such was the case in another study based on a cohort derived from the Quebec provincial healthcare database, where in one analysis the number of covariates was restricted to four and in another analysis only a sub-cohort (i.e. 15529 of 31062 subjects) could be included because the substantial computational resources required were prohibitive [<xref ref-type="bibr" rid="B21">21</xref>]. Depending on the rarity of the outcome under study, it may not be possible to analyze the required sample size when performing Cox regression on the whole cohort, whereas it may be possible to do so using a nested case-control approach. While it is recognized that issues of computational resources are overcome with time as computers and software become more efficient, limitations are likely to remain as the size of databases and complexity of time-dependent analyses will also increase.</p><p>Both the nested case-control approach described (using conditional logistic regression) and the Cox proportional-hazards model with time-dependent covariates similarly account for the time-dependence of exposure when levels of exposure in subjects vary over time. A different and more complex issue is the possibility that the effect of a given exposure varies over time. This can be addressed by analyzing latency-weighted exposures using either Cox regression or a nested case-control approach, the latter being computationally faster [<xref ref-type="bibr" rid="B22">22</xref>]. Alternatively, Cox regression can accommodate changes in the hazard ratio over time with a flexible generalization of the Cox proportional hazards model using a regression spline technique [<xref ref-type="bibr" rid="B23">23</xref>-<xref ref-type="bibr" rid="B25">25</xref>].</p></sec><sec><title>Conclusions</title><p>A nested case-control approach is a useful alternative for analysis of a cohort when time-dependent covariates are used. The expectedly similar risk estimates are obtainable with superior computational efficiency. Particularly when studying the effects of time-dependent exposures on rare outcomes in very large databases, study power can be improved by being able to run complex regression models on a larger number of affected subjects.</p></sec><sec><title>Competing interests</title><p>The author(s) declare that they have no competing interests.</p></sec><sec><title>Authors' contributions</title><p>All authors participated in the conception and design of the study. VE performed the statistical analysis and drafted the manuscript. All authors contributed to the interpretation of the study and revision of the manuscript. The final manuscript was read and approved by all authors.</p></sec><sec><title>Pre-publication history</title><p>The pre-publication history for this paper can be accessed here:</p><p><ext-link ext-link-type="uri" xlink:href="http://www.biomedcentral.com/1471-2288/5/5/prepub"/></p></sec></body><back><ack><sec><title>Acknowledgements</title><p>This study was funded in part by grant #53181 from the Canadian Institutes of Health Research (CIHR) and grant #014100 from the Fonds de la Recherche en Sant&#x000e9; du Qu&#x000e9;bec (FRSQ). Dr. Vidal Essebag is the recipient of a Clinician Scientist Award from CIHR. Dr. Platt is a recipient of an Investigator Award from CIHR. Dr. Abrahamowicz is a James McGill Professor at McGill University, Montreal, Canada. Dr. Pilote is a recipient of an Investigator Award from CIHR and the Dawson chair at McGill University, Montreal, Canada.</p></sec></ack><ref-list><ref id="B1"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Mantel</surname><given-names>N</given-names></name></person-group><article-title>Synthetic retrospective studies and related topics</article-title><source>Biometrics</source><year>1973</year><volume>29</volume><fpage>479</fpage><lpage>486</lpage><pub-id pub-id-type="pmid">4793136</pub-id></citation></ref><ref id="B2"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kupper</surname><given-names>LL</given-names></name><name><surname>McMichael</surname><given-names>AJ</given-names></name><name><surname>Spirtas</surname><given-names>R</given-names></name></person-group><article-title>A hybrid epidemiologic study design useful in estimating relative risk</article-title><source>J Am Stat Assoc</source><year>1975</year><volume>70</volume><fpage>524</fpage><lpage>528</lpage></citation></ref><ref id="B3"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Liddell</surname><given-names>FDK</given-names></name><name><surname>McDonald</surname><given-names>JC</given-names></name><name><surname>Thomas</surname><given-names>DC</given-names></name></person-group><article-title>Methods of cohort analysis: appraisal by application to asbestos mining</article-title><source>J R Stat Soc (A)</source><year>1977</year><volume>140</volume><fpage>469</fpage><lpage>491</lpage></citation></ref><ref id="B4"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Breslow</surname><given-names>NE</given-names></name><name><surname>Lubin</surname><given-names>JH</given-names></name><name><surname>Marek</surname><given-names>P</given-names></name><name><surname>Langholz</surname><given-names>B</given-names></name></person-group><article-title>Multiplicative models and cohort analysis</article-title><source>J Am Stat Assoc</source><year>1983</year><volume>78</volume><fpage>1</fpage><lpage>12</lpage></citation></ref><ref id="B5"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Essebag</surname><given-names>V</given-names></name><name><surname>Genest</surname><given-names>J</given-names></name><name><surname>Suissa</surname><given-names>S</given-names></name><name><surname>Pilote</surname><given-names>L</given-names></name></person-group><article-title>The nested case-control study in cardiology</article-title><source>American Heart Journal</source><year>2003</year><volume>146</volume><fpage>581</fpage><lpage>590</lpage><pub-id pub-id-type="pmid">14564310</pub-id><pub-id pub-id-type="doi">10.1016/S0002-8703(03)00512-X</pub-id></citation></ref><ref id="B6"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Ernster</surname><given-names>VL</given-names></name></person-group><article-title>Nested case-control studies</article-title><source>Prev Med</source><year>1994</year><volume>23</volume><fpage>587</fpage><lpage>590</lpage><pub-id pub-id-type="pmid">7845919</pub-id><pub-id pub-id-type="doi">10.1006/pmed.1994.1093</pub-id></citation></ref><ref id="B7"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Lubin</surname><given-names>JH</given-names></name></person-group><article-title>Extensions of analytic methods for nested and population-based incident case-control studies</article-title><source>J Chronic Dis</source><year>1986</year><volume>39</volume><fpage>379</fpage><lpage>388</lpage><pub-id pub-id-type="pmid">3700579</pub-id><pub-id pub-id-type="doi">10.1016/0021-9681(86)90124-4</pub-id></citation></ref><ref id="B8"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>White</surname><given-names>E</given-names></name><name><surname>Hunt</surname><given-names>JR</given-names></name><name><surname>Casso</surname><given-names>D</given-names></name></person-group><article-title>Exposure measurement in cohort studies: the challenges of prospective data collection</article-title><source>Epidemiol Rev</source><year>1998</year><volume>20</volume><fpage>43</fpage><lpage>56</lpage><pub-id pub-id-type="pmid">9762508</pub-id></citation></ref><ref id="B9"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Fisher</surname><given-names>LD</given-names></name><name><surname>Lin</surname><given-names>DY</given-names></name></person-group><article-title>Time-dependent covariates in the Cox proportional-hazards regression model</article-title><source>Annu Rev Public Health</source><year>1999</year><volume>20</volume><fpage>145</fpage><lpage>157</lpage><pub-id pub-id-type="pmid">10352854</pub-id><pub-id pub-id-type="doi">10.1146/annurev.publhealth.20.1.145</pub-id></citation></ref><ref id="B10"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Essebag</surname><given-names>V</given-names></name><name><surname>Hadjis</surname><given-names>T</given-names></name><name><surname>Platt</surname><given-names>RW</given-names></name><name><surname>Pilote</surname><given-names>L</given-names></name></person-group><article-title>Amiodarone and the risk of bradyarrhythmia requiring permanent pacemaker in elderly patients with atrial fibrillation and prior myocardial infarction</article-title><source>J Am Coll Cardiol</source><year>2003</year><volume>41</volume><fpage>249</fpage><lpage>254</lpage><pub-id pub-id-type="pmid">12535818</pub-id><pub-id pub-id-type="doi">10.1016/S0735-1097(02)02709-2</pub-id></citation></ref><ref id="B11"><citation citation-type="book"><source>SAS Institute Inc., SAS OnlineDoc&#x000ae;, Version 8</source><year>1999</year><publisher-name>Cary, NC, SAS Institute Inc.</publisher-name></citation></ref><ref id="B12"><citation citation-type="book"><source>SAS &#x000ae; Proprietary Software Release 8.2 (for Windows)</source><year>2001</year><publisher-name>Cary, NC, SAS Institute Inc.</publisher-name></citation></ref><ref id="B13"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Prentice</surname><given-names>RL</given-names></name><name><surname>Breslow</surname><given-names>NE</given-names></name></person-group><article-title>Retrospective studies and failure time models</article-title><source>Biometrika</source><year>1978</year><volume>65</volume><fpage>153</fpage><lpage>158</lpage></citation></ref><ref id="B14"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Ury</surname><given-names>HK</given-names></name></person-group><article-title>Efficiency of case-control studies with multiple controls per case: continuous or dichotomous data</article-title><source>Biometrics</source><year>1975</year><volume>31</volume><fpage>643</fpage><lpage>649</lpage><pub-id pub-id-type="pmid">1100136</pub-id></citation></ref><ref id="B15"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Goldstein</surname><given-names>L</given-names></name><name><surname>Langholz</surname><given-names>B</given-names></name></person-group><article-title>Asymptotic theory for nested case-control sampling in the Cox regression model</article-title><source>Ann Stat</source><year>1992</year><volume>20</volume><fpage>1903</fpage><lpage>1928</lpage></citation></ref><ref id="B16"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Pang</surname><given-names>D</given-names></name></person-group><article-title>A relative power table for nested matched case-control studies</article-title><source>Occup Environ Med</source><year>1999</year><volume>56</volume><fpage>67</fpage><lpage>69</lpage><pub-id pub-id-type="pmid">10341749</pub-id></citation></ref><ref id="B17"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Lee</surname><given-names>JY</given-names></name></person-group><article-title>Uses of clinical databases</article-title><source>Am J Med Sci</source><year>1994</year><volume>308</volume><fpage>58</fpage><lpage>62</lpage><pub-id pub-id-type="pmid">8010340</pub-id></citation></ref><ref id="B18"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Baron</surname><given-names>JA</given-names></name><name><surname>Weiderpass</surname><given-names>E</given-names></name></person-group><article-title>An introduction to epidemiological research with medical databases</article-title><source>Ann Epidemiol</source><year>2000</year><volume>10</volume><fpage>200</fpage><lpage>204</lpage><pub-id pub-id-type="pmid">10854954</pub-id><pub-id pub-id-type="doi">10.1016/S1047-2797(00)00039-9</pub-id></citation></ref><ref id="B19"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Mitchell</surname><given-names>JB</given-names></name><name><surname>Bubolz</surname><given-names>T</given-names></name><name><surname>Paul</surname><given-names>JE</given-names></name><name><surname>Pashos</surname><given-names>CL</given-names></name><name><surname>Escarce</surname><given-names>JJ</given-names></name><name><surname>Muhlbaier</surname><given-names>LH</given-names></name><name><surname>Wiesman</surname><given-names>JM</given-names></name><name><surname>Young</surname><given-names>WW</given-names></name><name><surname>Epstein</surname><given-names>RS</given-names></name><name><surname>Javitt</surname><given-names>JC</given-names></name></person-group><article-title>Using Medicare claims for outcomes research</article-title><source>Med Care</source><year>1994</year><volume>32</volume><fpage>JS38</fpage><lpage>51</lpage><pub-id pub-id-type="pmid">8028412</pub-id></citation></ref><ref id="B20"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Tamblyn</surname><given-names>R</given-names></name><name><surname>Lavoie</surname><given-names>G</given-names></name><name><surname>Petrella</surname><given-names>L</given-names></name><name><surname>Monette</surname><given-names>J</given-names></name></person-group><article-title>The use of prescription claims databases in pharmacoepidemiological research: the accuracy and comprehensiveness of the prescription claims database in Quebec</article-title><source>J Clin Epidemiol</source><year>1995</year><volume>48</volume><fpage>999</fpage><lpage>1009</lpage><pub-id pub-id-type="pmid">7775999</pub-id><pub-id pub-id-type="doi">10.1016/0895-4356(94)00234-H</pub-id></citation></ref><ref id="B21"><citation citation-type="book"><person-group person-group-type="author"><name><surname>Bartlett-Esquilant</surname><given-names>G</given-names></name></person-group><source>Patterns of benzodiazepine use and risk of injury in the elderly</source><year>2000</year><publisher-name>Montreal, McGill University</publisher-name></citation></ref><ref id="B22"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Langholz</surname><given-names>B</given-names></name><name><surname>Thomas</surname><given-names>D</given-names></name><name><surname>Xiang</surname><given-names>A</given-names></name><name><surname>Stram</surname><given-names>D</given-names></name></person-group><article-title>Latency analysis in epidemiologic studies of occupational exposures: application to the Colorado Plateau uranium miners cohort</article-title><source>Am J Ind Med</source><year>1999</year><volume>35</volume><fpage>246</fpage><lpage>256</lpage><pub-id pub-id-type="pmid">9987557</pub-id></citation></ref><ref id="B23"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Abrahamowicz</surname><given-names>M</given-names></name><name><surname>MacKenzie</surname><given-names>T</given-names></name><name><surname>Esdaile</surname><given-names>JM</given-names></name></person-group><article-title>Time-dependent hazard ratio: modeling and hypothesis testing with application in lupus nephritis.</article-title><source>J Am Stat Assoc</source><year>1996</year><volume>91</volume><fpage>1432</fpage><lpage>1439</lpage></citation></ref><ref id="B24"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Rachet</surname><given-names>B</given-names></name><name><surname>Sasco</surname><given-names>AJ</given-names></name><name><surname>Abrahamowicz</surname><given-names>M</given-names></name><name><surname>Benyamine</surname><given-names>D</given-names></name></person-group><article-title>Prognostic factors for mortality in nasopharyngeal cancer: accounting for time-dependence of relative risks</article-title><source>Int J Epidemiol</source><year>1998</year><volume>27</volume><fpage>772</fpage><lpage>780</lpage><pub-id pub-id-type="pmid">9839732</pub-id><pub-id pub-id-type="doi">10.1093/ije/27.5.772</pub-id></citation></ref><ref id="B25"><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Quantin</surname><given-names>C</given-names></name><name><surname>Abrahamowicz</surname><given-names>M</given-names></name><name><surname>Moreau</surname><given-names>T</given-names></name><name><surname>Bartlett</surname><given-names>G</given-names></name><name><surname>MacKenzie</surname><given-names>T</given-names></name><name><surname>Tazi</surname><given-names>MA</given-names></name><name><surname>Lalonde</surname><given-names>L</given-names></name><name><surname>Faivre</surname><given-names>J</given-names></name></person-group><article-title>Variation over time of the effects of prognostic factors in a population-based study of colon cancer: comparison of statistical models</article-title><source>Am J Epidemiol</source><year>1999</year><volume>150</volume><fpage>1188</fpage><lpage>1200</lpage><pub-id pub-id-type="pmid">10588079</pub-id></citation></ref></ref-list></back></article>



